<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <div class="container">
        <div class="navbar">
           <!--<img src="/Images/logo_1_46.jpg" alt=""  class="logo">--> 
           <h1 class="logo"> NEW ERA<span> SOFTWARE</span> </h1>
            <nav>
                <ul id="menuList">
                    <li> <a href="/HTML/index.html">Home </a></li>
                    <li> <a href="/HTML/calculator.html">Calculator </a></li>
                    <li> <a href="/HTML/log_in.html">Log in </a></li>
                    <li> <a href="/HTML/help.html">Help </a></li>
                </ul>

            </nav>
            <img src="/Images/menu_33.jpg" alt=""  class="menu-icon" onclick="togglemenu()">
        </div>

        <h1>Calculate Energy</h1>
    
   <span>Distance:</span> <input type ="number" id="Distance" value="0" min="0"><span> km</span>
   <br>
   <br>
   <span>Fuel economy:</span><input type ="number" id="FuelEco" value="0" min="0"> <span> L /100km</span>
   <br>
    <br>
   
    <label for="fuelType">Choose fuel type:</label>
    <select id="FT" name="FT">
      <option value="petrol">Petrol</option>
      <option value="diesel">Diesel</option>
    </select>
  
   <button onclick="printEnergy()" id="B1"> Calculate</button>
    

    <p>
       <span>Litres Used (L): </span> <span id="ANS1"> </span><span></span>
       <br>
       <br>
       <span>Energy Used (kWh): </span> <span id="ANS2"> </span><span></span>
       <br>
       <br>
       <span>Cost (ZAR): </span> <span id="ANS3"> </span><span></span>
       <br>
       <br>
       <span>Cost for electricity (ZAR): </span> <span id="ANS4"> </span><span></span>
       
   </p>

        

        <div class="social-links">
            
            <a href="#"><i class='bx bxl-facebook'></i></a>
            <a href="#"><i class='bx bxl-instagram' ></i></a>
            <a href="#"><i class='bx bxl-twitter' ></i></a>
            <a href="#"><i class='bx bxl-linkedin-square'></i></a>

    </div>
        
    </div>

    <div >
  <canvas id="myChart" width="300" height="300"></canvas>
</div>
      
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>

function CalculateLitres(distance, fuelE)
{
   var litersUsed = (distance * fuelE)/100;

   return litersUsed;


}

function CalculateEnergy(litres)
{
   var energyUsed = litres * 8.9;

   return energyUsed;
}

function CalculateCost(litres)
{
    var cost = litres * 21.465;
    return cost;
}

function CalculateCostElec(energy)
{
    var cost = energy * 1.46;
    return cost;
}


document.addEventListener('DOMContentLoaded',() => {
    document
    .getElementById('FT')
    .addEventListener('input',handleSelect);
});
let choices =[];
function handleSelect(ev)
{
    let select = ev.target;
    console.log(select.value);
    

   
      choices.push(select.selectedOptions[0].value);
    

    console.log(choices);

   
   
}


function printEnergy() {


    let canvas = document.getElementById('myChart');
    let context = canvas.getContext('2d');

   



   var x = document.getElementById("Distance").valueAsNumber;
   var y = document.getElementById("FuelEco").valueAsNumber;
   if(x < 0 || y < 0)
   {
       window.alert("Please enter a positive number")
   }
   else {
    var litres = CalculateLitres(x,y);

    document.getElementById("ANS1").innerHTML = litres;

   
    var energy = CalculateEnergy(litres);
    document.getElementById("ANS2").innerHTML = energy;
 
    cost = CalculateCost(litres);
    document.getElementById("ANS3").innerHTML = cost;

    var costElec = CalculateCostElec(energy);
    document.getElementById("ANS4").innerHTML = costElec;

   
   console.log(cost);
    draw(cost,costElec);

   }
 }


 
 

 

 function draw(e1,e2)
 {

   
    const labels = [
      'Fuel Cost',
      'Electric Cost',
      
    ];
 
   



    
    const data = {
      labels: labels,
      datasets: [{
        label: 'My First dataset',
        backgroundColor: 'rgb(255, 99, 132)',
        borderColor: 'rgb(255, 99, 132)',
        data: [e1,e2],
      }]
    };
   
  
    const config = {
  type: 'bar',
  data: data,
  options: {
    scales: {
      y: {
        beginAtZero: true
      }
    }
  },
};



const myChart = new Chart(

      document.getElementById('myChart'),
      config
    );

 }



 
  </script>

  
  

    
</body>
</html>